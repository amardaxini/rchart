<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>module GraphHelper - rchart 2.0.4</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="module">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/graph_helper.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-i-add_to_image_map">#add_to_image_map</a>
    
    <li><a href="#method-i-draw_alpha_pixel">#draw_alpha_pixel</a>
    
    <li><a href="#method-i-draw_antialias_pixel">#draw_antialias_pixel</a>
    
    <li><a href="#method-i-draw_background">#draw_background</a>
    
    <li><a href="#method-i-draw_circle">#draw_circle</a>
    
    <li><a href="#method-i-draw_dotted_line">#draw_dotted_line</a>
    
    <li><a href="#method-i-draw_ellipse">#draw_ellipse</a>
    
    <li><a href="#method-i-draw_filled_circle">#draw_filled_circle</a>
    
    <li><a href="#method-i-draw_filled_ellipse">#draw_filled_ellipse</a>
    
    <li><a href="#method-i-draw_filled_rectangle">#draw_filled_rectangle</a>
    
    <li><a href="#method-i-draw_filled_rounded_rectangle">#draw_filled_rounded_rectangle</a>
    
    <li><a href="#method-i-draw_graph_area_gradient">#draw_graph_area_gradient</a>
    
    <li><a href="#method-i-draw_line">#draw_line</a>
    
    <li><a href="#method-i-draw_rectangle">#draw_rectangle</a>
    
    <li><a href="#method-i-draw_rounded_rectangle">#draw_rounded_rectangle</a>
    
    <li><a href="#method-i-set_image_map">#set_image_map</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./README_rdoc.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./BarChart.html">BarChart</a>
  
    <li><a href="./ColorPalette.html">ColorPalette</a>
  
    <li><a href="./CubicChart.html">CubicChart</a>
  
    <li><a href="./GD2.html">GD2</a>
  
    <li><a href="./Graph.html">Graph</a>
  
    <li><a href="./GraphHelper.html">GraphHelper</a>
  
    <li><a href="./Layout.html">Layout</a>
  
    <li><a href="./Legend.html">Legend</a>
  
    <li><a href="./LineChart.html">LineChart</a>
  
    <li><a href="./PieChart.html">PieChart</a>
  
    <li><a href="./PlotChart.html">PlotChart</a>
  
    <li><a href="./Rchart.html">Rchart</a>
  
    <li><a href="./RchartHelper.html">RchartHelper</a>
  
    <li><a href="./Rdata.html">Rdata</a>
  
    <li><a href="./Scale.html">Scale</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="module">module GraphHelper</h1>

  <div id="description" class="description">
    
  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-add_to_image_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_to_image_map</span><span
            class="method-args">(x1,y1,x2,y2,serie_name,value,caller_function)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Add a box into the image map Internal function</p>
          

          
          <div class="method-source-code" id="add_to_image_map-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 408</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_to_image_map</span>(<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y2</span>,<span class="ruby-identifier">serie_name</span>,<span class="ruby-identifier">value</span>,<span class="ruby-identifier">caller_function</span>)
  <span class="ruby-keyword">if</span> ( <span class="ruby-ivar">@map_function</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@map_function</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">caller_function</span> )
    <span class="ruby-ivar">@image_map</span>  <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">x1</span>.<span class="ruby-identifier">round</span>).<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-string">&quot;,&quot;</span><span class="ruby-operator">+</span>(<span class="ruby-identifier">y1</span>.<span class="ruby-identifier">round</span>).<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-string">&quot;,&quot;</span><span class="ruby-operator">+</span>(<span class="ruby-identifier">x2</span>.<span class="ruby-identifier">round</span>).<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-string">&quot;,&quot;</span><span class="ruby-operator">+</span>(<span class="ruby-identifier">y2</span>.<span class="ruby-identifier">round</span>).<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-string">&quot;,&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">serie_name</span><span class="ruby-operator">+</span><span class="ruby-string">&quot;,&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-ivar">@map_function</span> = <span class="ruby-identifier">caller_function</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- add_to_image_map-source -->
          
        </div>

        

        
      </div><!-- add_to_image_map-method -->

    
      <div id="method-i-draw_alpha_pixel" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">draw_alpha_pixel</span><span
            class="method-args">(x,y,alpha,r,g,b)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This function will draw an alpha pixel at position (x,y). alpha is used to
specify the transparency factor ( between 0 and 100 ) The last 3 parameters
are used to set the pixel color.</p>
          

          
          <div class="method-source-code" id="draw_alpha_pixel-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 304</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">draw_alpha_pixel</span>(<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">alpha</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span> = <span class="ruby-identifier">validate_color</span>(<span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span>)
  <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">x</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">y</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-ivar">@x_size</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">y</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-ivar">@y_size</span> )
    <span class="ruby-comment">#eturn(-1)</span>
    <span class="ruby-comment">#TODO check image_color_at method is right?</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">rgb2</span>= <span class="ruby-identifier">image_color_at</span>(<span class="ruby-ivar">@picture</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>)
    <span class="ruby-identifier">r2</span>   = (<span class="ruby-identifier">rgb2</span> <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-value">16</span>) &amp; <span class="ruby-value">0xFF</span>
    <span class="ruby-identifier">g2</span>   = (<span class="ruby-identifier">rgb2</span> <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-value">8</span>) &amp; <span class="ruby-value">0xFF</span>
    <span class="ruby-identifier">b2</span>   = <span class="ruby-identifier">rgb2</span> &amp; <span class="ruby-value">0xFF</span>
    <span class="ruby-identifier">i_alpha</span> = (<span class="ruby-value">100</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">alpha</span>)<span class="ruby-operator">/</span><span class="ruby-value">100</span>
    <span class="ruby-identifier">alpha</span>  = <span class="ruby-identifier">alpha</span> <span class="ruby-operator">/</span> <span class="ruby-value">100</span>
    <span class="ruby-identifier">ra</span>   = (<span class="ruby-identifier">r</span>*<span class="ruby-identifier">alpha</span><span class="ruby-operator">+</span><span class="ruby-identifier">r2</span>*<span class="ruby-identifier">i_alpha</span>).<span class="ruby-identifier">floor</span>
    <span class="ruby-identifier">ga</span>   = (<span class="ruby-identifier">g</span>*<span class="ruby-identifier">alpha</span><span class="ruby-operator">+</span><span class="ruby-identifier">g2</span>*<span class="ruby-identifier">i_alpha</span>).<span class="ruby-identifier">floor</span>
    <span class="ruby-identifier">ba</span>   = (<span class="ruby-identifier">b</span>*<span class="ruby-identifier">alpha</span><span class="ruby-operator">+</span><span class="ruby-identifier">b2</span>*<span class="ruby-identifier">i_alpha</span>).<span class="ruby-identifier">floor</span>
    <span class="ruby-identifier">image_set_pixel</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">ra</span>,<span class="ruby-identifier">ga</span>,<span class="ruby-identifier">ba</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- draw_alpha_pixel-source -->
          
        </div>

        

        
      </div><!-- draw_alpha_pixel-method -->

    
      <div id="method-i-draw_antialias_pixel" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">draw_antialias_pixel</span><span
            class="method-args">(x,y,r,g,b,alpha=100,no_fall_back=false)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Private functions for internal processing Internal function.</p>
          

          
          <div class="method-source-code" id="draw_antialias_pixel-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 360</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>,<span class="ruby-identifier">alpha</span>=<span class="ruby-value">100</span>,<span class="ruby-identifier">no_fall_back</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-comment">#Process shadows</span>
  <span class="ruby-keyword">if</span>(<span class="ruby-ivar">@shadow_active</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">no_fall_back</span>)
    <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_x_distance</span>,<span class="ruby-identifier">y</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_y_distance</span>,<span class="ruby-ivar">@shadow_r_color</span>,<span class="ruby-ivar">@shadow_g_color</span>,<span class="ruby-ivar">@shadow_b_color</span>,<span class="ruby-ivar">@shadow_alpha</span>,<span class="ruby-keyword">true</span>)
    <span class="ruby-keyword">if</span>(<span class="ruby-ivar">@shadow_blur</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>)
      <span class="ruby-identifier">alpha_decay</span> = (<span class="ruby-ivar">@shadow_alpha</span>*<span class="ruby-value">1.0</span> <span class="ruby-operator">/</span> <span class="ruby-ivar">@shadow_blur</span>)
      <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
      <span class="ruby-keyword">while</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&lt;=</span><span class="ruby-ivar">@shadow_blur</span>
        <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_x_distance</span><span class="ruby-operator">-</span><span class="ruby-identifier">i</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>,<span class="ruby-identifier">y</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_y_distance</span><span class="ruby-operator">-</span><span class="ruby-identifier">i</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>,<span class="ruby-ivar">@shadow_r_color</span>,<span class="ruby-ivar">@shadow_g_color</span>,<span class="ruby-ivar">@shadow_b_color</span>,<span class="ruby-ivar">@shadow_alpha</span><span class="ruby-operator">-</span><span class="ruby-identifier">alpha_decay</span>*<span class="ruby-identifier">i</span>,<span class="ruby-keyword">true</span>)
        <span class="ruby-identifier">i</span> = <span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">i</span> =<span class="ruby-value">1</span>
      <span class="ruby-keyword">while</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&lt;=</span><span class="ruby-ivar">@shadow_blur</span>
        <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_x_distance</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>,<span class="ruby-identifier">y</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_y_distance</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>,<span class="ruby-ivar">@shadow_r_color</span>,<span class="ruby-ivar">@shadow_g_color</span>,<span class="ruby-ivar">@shadow_b_color</span>,<span class="ruby-ivar">@shadow_alpha</span><span class="ruby-operator">-</span><span class="ruby-identifier">alpha_decay</span>*<span class="ruby-identifier">i</span>,<span class="ruby-keyword">true</span>)
        <span class="ruby-identifier">i</span> = <span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span> = <span class="ruby-identifier">validate_color</span>(<span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span>)
  <span class="ruby-identifier">plot</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">xi</span>   = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">floor</span> <span class="ruby-keyword">rescue</span> <span class="ruby-value">0</span>
  <span class="ruby-identifier">yi</span>   = <span class="ruby-identifier">y</span>.<span class="ruby-identifier">floor</span> <span class="ruby-keyword">rescue</span> <span class="ruby-value">0</span>
  <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">xi</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">yi</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">y</span>)
    <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">alpha</span> <span class="ruby-operator">==</span> <span class="ruby-value">100</span> )
      <span class="ruby-identifier">image_set_pixel</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">draw_alpha_pixel</span>(<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">alpha</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">xi</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">yi</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-comment">#soe error occures therefor added condtion</span>
      <span class="ruby-identifier">alpha1</span> = (((<span class="ruby-value">1</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">x</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">floor</span>)) * (<span class="ruby-value">1</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">y</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">y</span>.<span class="ruby-identifier">floor</span>)) * <span class="ruby-value">100</span>) <span class="ruby-operator">/</span> <span class="ruby-value">100</span>) * <span class="ruby-identifier">alpha</span>
      <span class="ruby-identifier">draw_alpha_pixel</span>(<span class="ruby-identifier">xi</span>,<span class="ruby-identifier">yi</span>,<span class="ruby-identifier">alpha1</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">alpha1</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@anti_alias_quality</span>
      <span class="ruby-identifier">alpha2</span> = (((<span class="ruby-identifier">x</span> <span class="ruby-operator">-</span>  <span class="ruby-identifier">x</span>.<span class="ruby-identifier">floor</span>) * (<span class="ruby-value">1</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">y</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">y</span>.<span class="ruby-identifier">floor</span>)) * <span class="ruby-value">100</span>) <span class="ruby-operator">/</span> <span class="ruby-value">100</span>) * <span class="ruby-identifier">alpha</span>
      <span class="ruby-identifier">draw_alpha_pixel</span>(<span class="ruby-identifier">xi</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>,<span class="ruby-identifier">yi</span>,<span class="ruby-identifier">alpha2</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">alpha2</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@anti_alias_quality</span>
      <span class="ruby-identifier">alpha3</span> = (((<span class="ruby-value">1</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">x</span> <span class="ruby-operator">-</span>  <span class="ruby-identifier">x</span>.<span class="ruby-identifier">floor</span>)) * (<span class="ruby-identifier">y</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">y</span>.<span class="ruby-identifier">floor</span>) * <span class="ruby-value">100</span>) <span class="ruby-operator">/</span> <span class="ruby-value">100</span>) * <span class="ruby-identifier">alpha</span>
      <span class="ruby-identifier">draw_alpha_pixel</span>(<span class="ruby-identifier">xi</span>,<span class="ruby-identifier">yi</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>,<span class="ruby-identifier">alpha3</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">alpha3</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@anti_alias_quality</span>
      <span class="ruby-identifier">alpha4</span> = (((<span class="ruby-identifier">x</span> <span class="ruby-operator">-</span>  <span class="ruby-identifier">x</span>.<span class="ruby-identifier">floor</span>) * (<span class="ruby-identifier">y</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">y</span>.<span class="ruby-identifier">floor</span>) * <span class="ruby-value">100</span>) <span class="ruby-operator">/</span> <span class="ruby-value">100</span>) * <span class="ruby-identifier">alpha</span>
      <span class="ruby-identifier">draw_alpha_pixel</span>(<span class="ruby-identifier">xi</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>,<span class="ruby-identifier">yi</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>,<span class="ruby-identifier">alpha4</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)  <span class="ruby-keyword">if</span> <span class="ruby-identifier">alpha4</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@anti_alias_quality</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- draw_antialias_pixel-source -->
          
        </div>

        

        
      </div><!-- draw_antialias_pixel-method -->

    
      <div id="method-i-draw_background" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">draw_background</span><span
            class="method-args">(r,g,b)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This function can be used to set the background color. The default graph
background color is set to white.</p>
          

          
          <div class="method-source-code" id="draw_background-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 4</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">draw_background</span>(<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">b</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">r</span>= <span class="ruby-identifier">validate_color</span>(<span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span>)
  <span class="ruby-identifier">image_filled_rectangle</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-ivar">@x_size</span>,<span class="ruby-ivar">@y_size</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- draw_background-source -->
          
        </div>

        

        
      </div><!-- draw_background-method -->

    
      <div id="method-i-draw_circle" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">draw_circle</span><span
            class="method-args">(xc,yc,height,r,g,b,width=0)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This function draw an aliased circle at position (xc,yc) with the specified
radius. The last 3 parameters are used to set the border color. Width is
used to draw ellipses.</p>
          

          
          <div class="method-source-code" id="draw_circle-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 215</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">draw_circle</span>(<span class="ruby-identifier">xc</span>,<span class="ruby-identifier">yc</span>,<span class="ruby-identifier">height</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>,<span class="ruby-identifier">width</span>=<span class="ruby-value">0</span>)
  <span class="ruby-identifier">width</span> = <span class="ruby-identifier">height</span> <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">width</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> )
  <span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span> = <span class="ruby-identifier">validate_color</span>(<span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span>)

  <span class="ruby-identifier">c_circle</span> = <span class="ruby-identifier">allocate_color</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">step</span>     = <span class="ruby-value">360</span> <span class="ruby-operator">/</span> (<span class="ruby-value">2</span> * <span class="ruby-value">3.1418</span> * [<span class="ruby-identifier">width</span>,<span class="ruby-identifier">height</span>].<span class="ruby-identifier">max</span>)
  <span class="ruby-identifier">i</span> =<span class="ruby-value">0</span>
  <span class="ruby-keyword">while</span>(<span class="ruby-identifier">i</span><span class="ruby-operator">&lt;=</span><span class="ruby-value">360</span>)
    <span class="ruby-identifier">x</span>= <span class="ruby-constant">Math</span>.<span class="ruby-identifier">cos</span>(<span class="ruby-identifier">i</span>*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">height</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">xc</span>
    <span class="ruby-identifier">y</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sin</span>(<span class="ruby-identifier">i</span>*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">width</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">yc</span>
    <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-identifier">i</span> = <span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-identifier">step</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- draw_circle-source -->
          
        </div>

        

        
      </div><!-- draw_circle-method -->

    
      <div id="method-i-draw_dotted_line" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">draw_dotted_line</span><span
            class="method-args">(x1,y1,x2,y2,dot_size,r,g,b,graph_function=false)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This function will draw an aliased dotted line between points (x1,y1) and
(x2,y2). Parameter #5 is used to specify the dot size ( 2 will draw 1 point
every 2 points ) The last 3 parameters are used to set the line color.</p>
          

          
          <div class="method-source-code" id="draw_dotted_line-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 326</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">draw_dotted_line</span>(<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y2</span>,<span class="ruby-identifier">dot_size</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>,<span class="ruby-identifier">graph_function</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span> = <span class="ruby-identifier">validate_color</span>(<span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span>)
  <span class="ruby-identifier">distance</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sqrt</span>((<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-identifier">x1</span>)*(<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-identifier">x1</span>)<span class="ruby-operator">+</span>(<span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-identifier">y1</span>)*(<span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-identifier">y1</span>))
  <span class="ruby-identifier">x_step</span> = (<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-identifier">x1</span>) <span class="ruby-operator">/</span> <span class="ruby-identifier">distance</span>
  <span class="ruby-identifier">y_step</span> = (<span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-identifier">y1</span>) <span class="ruby-operator">/</span> <span class="ruby-identifier">distance</span>
  <span class="ruby-identifier">dot_index</span> = <span class="ruby-value">0</span>
  <span class="ruby-identifier">i</span> = <span class="ruby-value">0</span>
  <span class="ruby-identifier">start_offset</span> = <span class="ruby-value">0</span>

  <span class="ruby-keyword">while</span>(<span class="ruby-identifier">i</span><span class="ruby-operator">&lt;=</span><span class="ruby-identifier">distance</span>)
    <span class="ruby-identifier">x</span> = <span class="ruby-identifier">i</span> * <span class="ruby-identifier">x_step</span>  <span class="ruby-operator">+</span> <span class="ruby-identifier">x1</span>
    <span class="ruby-identifier">y</span> = <span class="ruby-identifier">i</span> * <span class="ruby-identifier">y_step</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y1</span>
    <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">dot_index</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">dot_size</span>)
      <span class="ruby-keyword">if</span> ( (<span class="ruby-identifier">x</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-ivar">@g_area_x1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-ivar">@g_area_x2</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">y</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-ivar">@g_area_y1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">y</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-ivar">@g_area_y2</span>) <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">graph_function</span> )
        <span class="ruby-keyword">if</span> (<span class="ruby-ivar">@line_width</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> )
          <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">start_offset</span> = <span class="ruby-identifier">start_offset</span> <span class="ruby-operator">-</span>(<span class="ruby-ivar">@line_width</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>)
          <span class="ruby-identifier">end_offset</span> = (<span class="ruby-ivar">@line_width</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>)
          <span class="ruby-identifier">j</span> = <span class="ruby-identifier">start_offset</span>
          <span class="ruby-keyword">while</span>(<span class="ruby-identifier">j</span><span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">end_offset</span>)
            <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">+</span><span class="ruby-identifier">j</span>,<span class="ruby-identifier">y</span><span class="ruby-operator">+</span><span class="ruby-identifier">j</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
            <span class="ruby-identifier">j</span>= <span class="ruby-identifier">j</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">dot_index</span> = <span class="ruby-identifier">dot_index</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
    <span class="ruby-identifier">dot_index</span> = <span class="ruby-value">0</span> <span class="ruby-keyword">if</span> (<span class="ruby-identifier">dot_index</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">dot_size</span> * <span class="ruby-value">2</span>)
    <span class="ruby-identifier">i</span>= <span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
  <span class="ruby-keyword">end</span>

<span class="ruby-keyword">end</span></pre>
          </div><!-- draw_dotted_line-source -->
          
        </div>

        

        
      </div><!-- draw_dotted_line-method -->

    
      <div id="method-i-draw_ellipse" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">draw_ellipse</span><span
            class="method-args">(xc,yc,height,width,r,g,b)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This function draw an aliased ellipse at position (xc,yc) with the
specified height and width. The last 3 parameters are used to set the
border color.</p>
          

          
          <div class="method-source-code" id="draw_ellipse-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 252</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">draw_ellipse</span>(<span class="ruby-identifier">xc</span>,<span class="ruby-identifier">yc</span>,<span class="ruby-identifier">height</span>,<span class="ruby-identifier">width</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">draw_circle</span>(<span class="ruby-identifier">xc</span>,<span class="ruby-identifier">yc</span>,<span class="ruby-identifier">height</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>,<span class="ruby-identifier">width</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- draw_ellipse-source -->
          
        </div>

        

        
      </div><!-- draw_ellipse-method -->

    
      <div id="method-i-draw_filled_circle" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">draw_filled_circle</span><span
            class="method-args">(xc,yc,height,r,g,b,width=0)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This function draw a filled aliased circle at position (xc,yc) with the
specified radius. The last 3 parameters are used to set the border and
filling color. Width is used to draw ellipses.</p>
          

          
          <div class="method-source-code" id="draw_filled_circle-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 233</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">draw_filled_circle</span>(<span class="ruby-identifier">xc</span>,<span class="ruby-identifier">yc</span>,<span class="ruby-identifier">height</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>,<span class="ruby-identifier">width</span>=<span class="ruby-value">0</span>)
  <span class="ruby-identifier">width</span> = <span class="ruby-identifier">height</span> <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">width</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> )
  <span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span> = <span class="ruby-identifier">validate_color</span>(<span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span>)
  <span class="ruby-identifier">step</span>     = <span class="ruby-value">360</span> <span class="ruby-operator">/</span> (<span class="ruby-value">2</span> * <span class="ruby-value">3.1418</span> * [<span class="ruby-identifier">width</span>,<span class="ruby-identifier">height</span>].<span class="ruby-identifier">max</span>)
  <span class="ruby-identifier">i</span> =<span class="ruby-value">90</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&lt;=</span><span class="ruby-value">270</span>
    <span class="ruby-identifier">x1</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">cos</span>(<span class="ruby-identifier">i</span>*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">height</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">xc</span>
    <span class="ruby-identifier">y1</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sin</span>(<span class="ruby-identifier">i</span>*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">width</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">yc</span>
    <span class="ruby-identifier">x2</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">cos</span>((<span class="ruby-value">180</span><span class="ruby-operator">-</span><span class="ruby-identifier">i</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">height</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">xc</span>
    <span class="ruby-identifier">y2</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sin</span>((<span class="ruby-value">180</span><span class="ruby-operator">-</span><span class="ruby-identifier">i</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">width</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">yc</span>
    <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x1</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>,<span class="ruby-identifier">y1</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>,<span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-identifier">image_line</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y1</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>,<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>,<span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>) <span class="ruby-keyword">if</span> ( (<span class="ruby-identifier">y1</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>) <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">yc</span> <span class="ruby-operator">-</span> [<span class="ruby-identifier">width</span>,<span class="ruby-identifier">height</span>].<span class="ruby-identifier">max</span> )
    <span class="ruby-identifier">i</span>= <span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-identifier">step</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- draw_filled_circle-source -->
          
        </div>

        

        
      </div><!-- draw_filled_circle-method -->

    
      <div id="method-i-draw_filled_ellipse" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">draw_filled_ellipse</span><span
            class="method-args">(xc,yc,height,width,r,g,b)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This function draw a filled aliased ellipse at position (xc,yc) with the
specified height and width. The last 3 parameters are used to set the
border and filling color.</p>
          

          
          <div class="method-source-code" id="draw_filled_ellipse-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 259</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">draw_filled_ellipse</span>(<span class="ruby-identifier">xc</span>,<span class="ruby-identifier">yc</span>,<span class="ruby-identifier">height</span>,<span class="ruby-identifier">width</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">draw_filled_circle</span>(<span class="ruby-identifier">xc</span>,<span class="ruby-identifier">yc</span>,<span class="ruby-identifier">height</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>,<span class="ruby-identifier">width</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- draw_filled_ellipse-source -->
          
        </div>

        

        
      </div><!-- draw_filled_ellipse-method -->

    
      <div id="method-i-draw_filled_rectangle" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">draw_filled_rectangle</span><span
            class="method-args">(x1, y1, x2, y2, r, g, b, draw_border=true, alpha=100,no_fall_back=false)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This function draw an aliased filled rectangle The upper left and bottom
right border positions are used as first 4 arguments. The last R,G,B
parameters are used to set the border color. You can specify if the aliased
border will be drawn and the transparency.</p>
          

          
          <div class="method-source-code" id="draw_filled_rectangle-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 83</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">draw_filled_rectangle</span>(<span class="ruby-identifier">x1</span>, <span class="ruby-identifier">y1</span>, <span class="ruby-identifier">x2</span>, <span class="ruby-identifier">y2</span>, <span class="ruby-identifier">r</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">b</span>, <span class="ruby-identifier">draw_border</span>=<span class="ruby-keyword">true</span>, <span class="ruby-identifier">alpha</span>=<span class="ruby-value">100</span>,<span class="ruby-identifier">no_fall_back</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">x1</span>, <span class="ruby-identifier">x2</span> = <span class="ruby-identifier">x2</span>, <span class="ruby-identifier">x1</span>  <span class="ruby-keyword">if</span> <span class="ruby-identifier">x2</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">x1</span>.<span class="ruby-identifier">to_f</span>
  <span class="ruby-identifier">y1</span>, <span class="ruby-identifier">y2</span> = <span class="ruby-identifier">y2</span>, <span class="ruby-identifier">y1</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">y2</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">y1</span>.<span class="ruby-identifier">to_f</span>
  <span class="ruby-identifier">b</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">r</span>=<span class="ruby-identifier">validate_color</span>(<span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span>)

  <span class="ruby-keyword">if</span>(<span class="ruby-identifier">alpha</span> <span class="ruby-operator">==</span> <span class="ruby-value">100</span>)
    <span class="ruby-comment">#Process shadows</span>
    <span class="ruby-keyword">if</span>(<span class="ruby-ivar">@shadow_active</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">no_fall_back</span>)
      <span class="ruby-identifier">draw_filled_rectangle</span>(<span class="ruby-identifier">x1</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_x_distance</span>,<span class="ruby-identifier">y1</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_y_distance</span>,<span class="ruby-identifier">x2</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_x_distance</span>,<span class="ruby-identifier">y2</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_y_distance</span>,<span class="ruby-ivar">@shadow_r_color</span>,<span class="ruby-ivar">@shadow_g_color</span>,<span class="ruby-ivar">@shadow_b_color</span>,<span class="ruby-keyword">false</span>,<span class="ruby-ivar">@shadow_alpha</span>,<span class="ruby-keyword">true</span>)
      <span class="ruby-keyword">if</span>(<span class="ruby-ivar">@shadow_blur</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>)
        <span class="ruby-identifier">alpha_decay</span> = (<span class="ruby-ivar">@shadow_alpha</span><span class="ruby-operator">/</span> <span class="ruby-ivar">@shadow_blur</span>)
        <span class="ruby-identifier">i</span> =<span class="ruby-value">1</span>
        <span class="ruby-keyword">while</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&lt;=</span><span class="ruby-ivar">@shadow_blur</span>
         <span class="ruby-identifier">draw_filled_rectangle</span>(<span class="ruby-identifier">x1</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_x_distance</span><span class="ruby-operator">-</span><span class="ruby-identifier">i</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>,<span class="ruby-identifier">y1</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_y_distance</span><span class="ruby-operator">-</span><span class="ruby-identifier">i</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>,<span class="ruby-identifier">x2</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_x_distance</span><span class="ruby-operator">-</span><span class="ruby-identifier">i</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>,<span class="ruby-identifier">y2</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_y_distance</span><span class="ruby-operator">-</span><span class="ruby-identifier">i</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>,<span class="ruby-ivar">@shadow_r_color</span>,<span class="ruby-ivar">@shadow_g_color</span>,<span class="ruby-ivar">@shadow_b_color</span>,<span class="ruby-keyword">false</span>,<span class="ruby-ivar">@shadow_alpha</span><span class="ruby-operator">-</span><span class="ruby-identifier">alpha_decay</span>*<span class="ruby-identifier">i</span>,<span class="ruby-keyword">true</span>)
          <span class="ruby-identifier">i</span> = <span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">i</span> = <span class="ruby-value">1</span>
        <span class="ruby-keyword">while</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&lt;=</span><span class="ruby-ivar">@shadow_blur</span>
         <span class="ruby-identifier">draw_filled_rectangle</span>(<span class="ruby-identifier">x1</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_x_distance</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>,<span class="ruby-identifier">y1</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_y_distance</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>,<span class="ruby-identifier">x2</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_x_distance</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>,<span class="ruby-identifier">y2</span><span class="ruby-operator">+</span><span class="ruby-ivar">@shadow_y_distance</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>,<span class="ruby-ivar">@shadow_r_color</span>,<span class="ruby-ivar">@shadow_g_color</span>,<span class="ruby-ivar">@shadow_b_color</span>,<span class="ruby-keyword">false</span>,<span class="ruby-ivar">@shadow_alpha</span><span class="ruby-operator">-</span><span class="ruby-identifier">alpha_decay</span>*<span class="ruby-identifier">i</span>,<span class="ruby-keyword">true</span>)
          <span class="ruby-identifier">i</span> = <span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">image_filled_rectangle</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">x1</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">round</span>,<span class="ruby-identifier">y1</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">round</span>,<span class="ruby-identifier">x2</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">round</span>,<span class="ruby-identifier">y2</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">round</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">layer_width</span>  = (<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-identifier">x1</span>).<span class="ruby-identifier">abs</span><span class="ruby-operator">+</span><span class="ruby-value">2</span>
    <span class="ruby-identifier">layer_height</span> = (<span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-identifier">y1</span>).<span class="ruby-identifier">abs</span><span class="ruby-operator">+</span><span class="ruby-value">2</span>
    <span class="ruby-ivar">@layers</span>[<span class="ruby-value">0</span>] = <span class="ruby-identifier">image_create_true_color</span>(<span class="ruby-identifier">layer_width</span>,<span class="ruby-identifier">layer_height</span>)
    <span class="ruby-identifier">c_white</span>  = <span class="ruby-identifier">allocate_color</span>(<span class="ruby-ivar">@layers</span>[<span class="ruby-value">0</span>],<span class="ruby-value">255</span>,<span class="ruby-value">255</span>,<span class="ruby-value">255</span>)
    <span class="ruby-identifier">image_filled_rectangle</span>(<span class="ruby-ivar">@layers</span>[<span class="ruby-value">0</span>],<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-identifier">layer_width</span>,<span class="ruby-identifier">layer_height</span>,<span class="ruby-value">255</span>,<span class="ruby-value">255</span>,<span class="ruby-value">255</span>)
    <span class="ruby-identifier">image_color_transparent</span>(<span class="ruby-ivar">@layers</span>[<span class="ruby-value">0</span>],<span class="ruby-value">255</span>,<span class="ruby-value">255</span>,<span class="ruby-value">255</span>)
    <span class="ruby-identifier">image_filled_rectangle</span>(<span class="ruby-ivar">@layers</span>[<span class="ruby-value">0</span>],<span class="ruby-value">1</span>.<span class="ruby-identifier">round</span>,<span class="ruby-value">1</span>.<span class="ruby-identifier">round</span>,(<span class="ruby-identifier">layer_width</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>).<span class="ruby-identifier">round</span>,(<span class="ruby-identifier">layer_height</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>).<span class="ruby-identifier">round</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-identifier">image_copy_merge</span>(<span class="ruby-ivar">@layers</span>[<span class="ruby-value">0</span>],<span class="ruby-ivar">@picture</span>,([<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">x2</span>].<span class="ruby-identifier">min</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>).<span class="ruby-identifier">round</span>,([<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">y2</span>].<span class="ruby-identifier">min</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>).<span class="ruby-identifier">round</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-identifier">layer_width</span>,<span class="ruby-identifier">layer_height</span>,<span class="ruby-identifier">alpha</span>)
    <span class="ruby-comment">#TODO Find out equivalent method</span>
    <span class="ruby-identifier">image_destroy</span>(<span class="ruby-ivar">@layers</span>[<span class="ruby-value">0</span>])
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">draw_border</span> )
    <span class="ruby-identifier">shadow_settings</span> = <span class="ruby-ivar">@shadow_active</span>
    <span class="ruby-ivar">@shadow_active</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-identifier">draw_rectangle</span>(<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y2</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-ivar">@shadow_active</span> = <span class="ruby-identifier">shadow_settings</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- draw_filled_rectangle-source -->
          
        </div>

        

        
      </div><!-- draw_filled_rectangle-method -->

    
      <div id="method-i-draw_filled_rounded_rectangle" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">draw_filled_rounded_rectangle</span><span
            class="method-args">(x1, y1, x2, y2, radius,r, g, b, draw_border=true, alpha=100)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This function draw an aliased filled rectangle with rounded corners The
upper left and bottom right border positions are used as first 4 arguments.
Argument #5 represents the radius of the rounded corner. The last 3
parameters are used to set the border color.</p>
          

          
          <div class="method-source-code" id="draw_filled_rounded_rectangle-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 170</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">draw_filled_rounded_rectangle</span>(<span class="ruby-identifier">x1</span>, <span class="ruby-identifier">y1</span>, <span class="ruby-identifier">x2</span>, <span class="ruby-identifier">y2</span>, <span class="ruby-identifier">radius</span>,<span class="ruby-identifier">r</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">b</span>, <span class="ruby-identifier">draw_border</span>=<span class="ruby-keyword">true</span>, <span class="ruby-identifier">alpha</span>=<span class="ruby-value">100</span>)
  <span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span> = <span class="ruby-identifier">validate_color</span>(<span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span>)
  <span class="ruby-identifier">c_rectangle</span> = <span class="ruby-identifier">allocate_color</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)

  <span class="ruby-identifier">step</span> = <span class="ruby-value">90</span> <span class="ruby-operator">/</span> ((<span class="ruby-value">3.1418</span> * <span class="ruby-identifier">radius</span>)<span class="ruby-operator">/</span><span class="ruby-value">2</span>)
  <span class="ruby-identifier">i</span>=<span class="ruby-value">0</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&lt;=</span><span class="ruby-value">90</span>
    <span class="ruby-identifier">xi1</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">cos</span>((<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">180</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">radius</span>
    <span class="ruby-identifier">yi1</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sin</span>((<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">180</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">radius</span>

    <span class="ruby-identifier">xi2</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">cos</span>((<span class="ruby-identifier">i</span><span class="ruby-operator">-</span><span class="ruby-value">90</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">radius</span>
    <span class="ruby-identifier">yi2</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sin</span>((<span class="ruby-identifier">i</span><span class="ruby-operator">-</span><span class="ruby-value">90</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">radius</span>

    <span class="ruby-identifier">xi3</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">cos</span>((<span class="ruby-identifier">i</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">radius</span>
    <span class="ruby-identifier">yi3</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sin</span>((<span class="ruby-identifier">i</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">radius</span>

    <span class="ruby-identifier">xi4</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">cos</span>((<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">90</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">radius</span>
    <span class="ruby-identifier">yi4</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sin</span>((<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">90</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">radius</span>

    <span class="ruby-identifier">image_line</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">xi1</span>,<span class="ruby-identifier">yi1</span>,<span class="ruby-identifier">x1</span><span class="ruby-operator">+</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">yi1</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-identifier">image_line</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">yi2</span>,<span class="ruby-identifier">xi2</span>,<span class="ruby-identifier">yi2</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-identifier">image_line</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">yi3</span>,<span class="ruby-identifier">xi3</span>,<span class="ruby-identifier">yi3</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-identifier">image_line</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">xi4</span>,<span class="ruby-identifier">yi4</span>,<span class="ruby-identifier">x1</span><span class="ruby-operator">+</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">yi4</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)

    <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">xi1</span>,<span class="ruby-identifier">yi1</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">xi2</span>,<span class="ruby-identifier">yi2</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">xi3</span>,<span class="ruby-identifier">yi3</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">xi4</span>,<span class="ruby-identifier">yi4</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-identifier">i</span>=<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-identifier">step</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">image_filled_rectangle</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y1</span><span class="ruby-operator">+</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">image_filled_rectangle</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">x1</span><span class="ruby-operator">+</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">y2</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)

  <span class="ruby-identifier">x1</span>=<span class="ruby-identifier">x1</span><span class="ruby-operator">-</span><span class="ruby-value">0.2</span>
  <span class="ruby-identifier">y1</span>=<span class="ruby-identifier">y1</span><span class="ruby-operator">-</span><span class="ruby-value">0.2</span>
  <span class="ruby-identifier">x2</span>=<span class="ruby-identifier">x2</span><span class="ruby-operator">+</span><span class="ruby-value">0.2</span>
  <span class="ruby-identifier">y2</span>=<span class="ruby-identifier">y2</span><span class="ruby-operator">+</span><span class="ruby-value">0.2</span>
  <span class="ruby-identifier">draw_line</span>(<span class="ruby-identifier">x1</span><span class="ruby-operator">+</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">draw_line</span>(<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y1</span><span class="ruby-operator">+</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">draw_line</span>(<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">y2</span>,<span class="ruby-identifier">x1</span><span class="ruby-operator">+</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">y2</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">draw_line</span>(<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y1</span><span class="ruby-operator">+</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- draw_filled_rounded_rectangle-source -->
          
        </div>

        

        
      </div><!-- draw_filled_rounded_rectangle-method -->

    
      <div id="method-i-draw_graph_area_gradient" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">draw_graph_area_gradient</span><span
            class="method-args">(r,g,b,decay,target=Rchart::TARGET_GRAPHAREA)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>You can use this function to fill the background of the picture or of the
graph area with a color gradient pattern. You must specify the starting
color with its r,g,b values, the number of shades to apply with the decay
parameter and optionnaly the target that can be :</p>
<ul><li><dl class="rdoc-list note-list"><dt><a href="Rchart.html">Rchart</a>
<dd>
<p>TARGET_GRAPHAREA The currently defined graph area</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="Rchart.html">Rchart</a>
<dd>
<p>TARGET_BACKGROUND The whole picture background</p>
</dd></dl>
</li></ul>
          

          
          <div class="method-source-code" id="draw_graph_area_gradient-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 13</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">draw_graph_area_gradient</span>(<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>,<span class="ruby-identifier">decay</span>,<span class="ruby-identifier">target</span>=<span class="ruby-constant">Rchart</span><span class="ruby-operator">::</span><span class="ruby-constant">TARGET_GRAPHAREA</span>)
  <span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span> = <span class="ruby-identifier">validate_color</span>(<span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span>)
  <span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y2</span> = <span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>
  <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">target</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Rchart</span><span class="ruby-operator">::</span><span class="ruby-constant">TARGET_GRAPHAREA</span> )
    <span class="ruby-identifier">x1</span> = <span class="ruby-ivar">@g_area_x1</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
    <span class="ruby-identifier">x2</span> = <span class="ruby-ivar">@g_area_x2</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>
    <span class="ruby-identifier">y1</span> = <span class="ruby-ivar">@g_area_y1</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
    <span class="ruby-identifier">y2</span> = <span class="ruby-ivar">@g_area_y2</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">target</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Rchart</span><span class="ruby-operator">::</span><span class="ruby-constant">TARGET_BACKGROUND</span> )
    <span class="ruby-identifier">x1</span> = <span class="ruby-value">0</span>
    <span class="ruby-identifier">x2</span> = <span class="ruby-ivar">@x_size</span>
    <span class="ruby-identifier">y1</span> = <span class="ruby-value">0</span>
    <span class="ruby-identifier">y2</span> = <span class="ruby-ivar">@y_size</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment">#Positive gradient</span>
  <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">decay</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> )
    <span class="ruby-identifier">y_step</span> = (<span class="ruby-identifier">y2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">y1</span> <span class="ruby-operator">-</span> <span class="ruby-value">2</span>) <span class="ruby-operator">/</span> <span class="ruby-identifier">decay</span>
    <span class="ruby-identifier">i</span>=<span class="ruby-value">0</span>
    <span class="ruby-keyword">while</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&lt;=</span><span class="ruby-identifier">decay</span>
      <span class="ruby-identifier">r</span><span class="ruby-operator">-=</span><span class="ruby-value">1</span>
      <span class="ruby-identifier">g</span><span class="ruby-operator">-=</span><span class="ruby-value">1</span>
      <span class="ruby-identifier">b</span><span class="ruby-operator">-=</span><span class="ruby-value">1</span>
      <span class="ruby-identifier">yi1</span> = <span class="ruby-identifier">y1</span> <span class="ruby-operator">+</span> ( <span class="ruby-identifier">i</span> * <span class="ruby-identifier">y_step</span> )
      <span class="ruby-identifier">yi2</span> = ( <span class="ruby-identifier">yi1</span> <span class="ruby-operator">+</span> ( <span class="ruby-identifier">i</span> * <span class="ruby-identifier">y_step</span> ) <span class="ruby-operator">+</span> <span class="ruby-identifier">y_step</span> ).<span class="ruby-identifier">ceil</span>
      <span class="ruby-identifier">yi2</span> = <span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-value">1</span> <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">yi2</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">yi2</span> )
      <span class="ruby-identifier">image_filled_rectangle</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">yi1</span>,<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">yi2</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
      <span class="ruby-identifier">i</span>=<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># Negative gradient</span>
  <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">decay</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> )
    <span class="ruby-identifier">y_step</span> = (<span class="ruby-identifier">y2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">y1</span> <span class="ruby-operator">-</span> <span class="ruby-value">2</span>) <span class="ruby-operator">/</span> <span class="ruby-operator">-</span><span class="ruby-identifier">decay</span>
    <span class="ruby-identifier">yi1</span>   = <span class="ruby-identifier">y1</span>
    <span class="ruby-identifier">yi2</span>   = <span class="ruby-identifier">y1</span><span class="ruby-operator">+</span><span class="ruby-identifier">y_step</span>
    <span class="ruby-identifier">i</span>= <span class="ruby-operator">-</span><span class="ruby-identifier">decay</span>
    <span class="ruby-keyword">while</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&gt;=</span><span class="ruby-value">0</span>
      <span class="ruby-identifier">r</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
      <span class="ruby-identifier">g</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
      <span class="ruby-identifier">b</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
      <span class="ruby-identifier">image_filled_rectangle</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">yi1</span>,<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">yi2</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
      <span class="ruby-identifier">yi1</span><span class="ruby-operator">+=</span> <span class="ruby-identifier">y_step</span>
      <span class="ruby-identifier">yi2</span><span class="ruby-operator">+=</span> <span class="ruby-identifier">y_step</span>
      <span class="ruby-identifier">yi2</span> = <span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-value">1</span> <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">yi2</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">yi2</span> )
      <span class="ruby-identifier">i</span>= <span class="ruby-identifier">i</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- draw_graph_area_gradient-source -->
          
        </div>

        

        
      </div><!-- draw_graph_area_gradient-method -->

    
      <div id="method-i-draw_line" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">draw_line</span><span
            class="method-args">(x1,y1,x2,y2,r,g,b,graph_function=false)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This function will draw an aliased line between points (x1,y1) and (x2,y2).
The last 3 parameters are used to set the line color. The last optional
parameter is used for internal calls made by graphing function.If set to
true, only portions of line inside the graph area will be drawn.</p>
          

          
          <div class="method-source-code" id="draw_line-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 267</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">draw_line</span>(<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y2</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>,<span class="ruby-identifier">graph_function</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-keyword">if</span> ( <span class="ruby-ivar">@line_dot_size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> )
    <span class="ruby-identifier">draw_dotted_line</span>(<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y2</span>,<span class="ruby-ivar">@line_dot_size</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>,<span class="ruby-identifier">graph_function</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span> = <span class="ruby-identifier">validate_color</span>(<span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span>)
    <span class="ruby-identifier">distance</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sqrt</span>((<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-identifier">x1</span>)*(<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-identifier">x1</span>)<span class="ruby-operator">+</span>(<span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-identifier">y1</span>)*(<span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-identifier">y1</span>)) <span class="ruby-keyword">rescue</span> <span class="ruby-value">0</span>
    <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">distance</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> )
      <span class="ruby-keyword">return</span> <span class="ruby-value">-1</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">x_step</span> = (<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-identifier">x1</span>) <span class="ruby-operator">/</span> <span class="ruby-identifier">distance</span>
      <span class="ruby-identifier">y_step</span> = (<span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-identifier">y1</span>) <span class="ruby-operator">/</span> <span class="ruby-identifier">distance</span>
      <span class="ruby-identifier">i</span> =<span class="ruby-value">0</span>
      <span class="ruby-keyword">while</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&lt;=</span><span class="ruby-identifier">distance</span>
        <span class="ruby-identifier">x</span> = <span class="ruby-identifier">i</span> * <span class="ruby-identifier">x_step</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x1</span>
        <span class="ruby-identifier">y</span> = <span class="ruby-identifier">i</span> * <span class="ruby-identifier">y_step</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y1</span>
        <span class="ruby-keyword">if</span>((<span class="ruby-identifier">x</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-ivar">@g_area_x1</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-ivar">@g_area_x2</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">y</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-ivar">@g_area_y1</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">y</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-ivar">@g_area_y2</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">graph_function</span> )
          <span class="ruby-keyword">if</span> ( <span class="ruby-ivar">@line_width</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> )
            <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
          <span class="ruby-keyword">else</span>
            <span class="ruby-identifier">start_offset</span> = <span class="ruby-operator">-</span>(<span class="ruby-ivar">@line_width</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>)
            <span class="ruby-identifier">end_offset</span> = (<span class="ruby-ivar">@line_width</span><span class="ruby-operator">/</span><span class="ruby-value">2</span>)
            <span class="ruby-identifier">j</span> = <span class="ruby-identifier">start_offset</span>

            <span class="ruby-keyword">while</span> <span class="ruby-identifier">j</span><span class="ruby-operator">&lt;=</span><span class="ruby-identifier">end_offset</span>
              <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x</span><span class="ruby-operator">+</span><span class="ruby-identifier">j</span>,<span class="ruby-identifier">y</span><span class="ruby-operator">+</span><span class="ruby-identifier">j</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
              <span class="ruby-identifier">j</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
            <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">i</span> =<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- draw_line-source -->
          
        </div>

        

        
      </div><!-- draw_line-method -->

    
      <div id="method-i-draw_rectangle" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">draw_rectangle</span><span
            class="method-args">(x1, y1, x2, y2, r, g, b)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This function draw an aliased rectangle The upper left and bottom right
border positions are used as first 4 arguments. The last 3 parameters are
used to set the border color</p>
          

          
          <div class="method-source-code" id="draw_rectangle-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">draw_rectangle</span>(<span class="ruby-identifier">x1</span>, <span class="ruby-identifier">y1</span>, <span class="ruby-identifier">x2</span>, <span class="ruby-identifier">y2</span>, <span class="ruby-identifier">r</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span> = <span class="ruby-identifier">validate_color</span>(<span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span>)
  <span class="ruby-identifier">c_rectangle</span> =  <span class="ruby-identifier">allocate_color</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">r</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">x1</span>=<span class="ruby-identifier">x1</span><span class="ruby-operator">-</span><span class="ruby-value">0.2</span>
  <span class="ruby-identifier">y1</span>=<span class="ruby-identifier">y1</span><span class="ruby-operator">-</span><span class="ruby-value">0.2</span>
  <span class="ruby-identifier">x2</span>=<span class="ruby-identifier">x2</span><span class="ruby-operator">+</span><span class="ruby-value">0.2</span>
  <span class="ruby-identifier">y2</span>=<span class="ruby-identifier">y2</span><span class="ruby-operator">+</span><span class="ruby-value">0.2</span>
  <span class="ruby-identifier">draw_line</span>(<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">draw_line</span>(<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y2</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">draw_line</span>(<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y2</span>,<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y2</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">draw_line</span>(<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y2</span>,<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- draw_rectangle-source -->
          
        </div>

        

        
      </div><!-- draw_rectangle-method -->

    
      <div id="method-i-draw_rounded_rectangle" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">draw_rounded_rectangle</span><span
            class="method-args">(x1, y1, x2, y2, radius,r, g, b)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This function draw an aliased rectangle with rounded corners The upper left
and bottom right border positions are used as first 4 arguments. Argument
#5 represents the radius of the rounded corner. The last 3 parameters are
used to set the border color.</p>
          

          
          <div class="method-source-code" id="draw_rounded_rectangle-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 131</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">draw_rounded_rectangle</span>(<span class="ruby-identifier">x1</span>, <span class="ruby-identifier">y1</span>, <span class="ruby-identifier">x2</span>, <span class="ruby-identifier">y2</span>, <span class="ruby-identifier">radius</span>,<span class="ruby-identifier">r</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span> = <span class="ruby-identifier">validate_color</span>(<span class="ruby-identifier">b</span>, <span class="ruby-identifier">g</span>, <span class="ruby-identifier">r</span>)

  <span class="ruby-identifier">c_rectangle</span> = <span class="ruby-identifier">allocate_color</span>(<span class="ruby-ivar">@picture</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)

  <span class="ruby-identifier">step</span> = <span class="ruby-value">90</span> <span class="ruby-operator">/</span> ((<span class="ruby-value">3.1418</span> * <span class="ruby-identifier">radius</span>)<span class="ruby-operator">/</span><span class="ruby-value">2</span>)
  <span class="ruby-identifier">i</span>=<span class="ruby-value">0</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&lt;=</span><span class="ruby-value">90</span>
    <span class="ruby-identifier">x</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">cos</span>((<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">180</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">radius</span>
    <span class="ruby-identifier">y</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sin</span>((<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">180</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">radius</span>
   <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)

    <span class="ruby-identifier">x</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">cos</span>((<span class="ruby-identifier">i</span><span class="ruby-operator">-</span><span class="ruby-value">90</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">radius</span>
    <span class="ruby-identifier">y</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sin</span>((<span class="ruby-identifier">i</span><span class="ruby-operator">-</span><span class="ruby-value">90</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">radius</span>
    <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)

    <span class="ruby-identifier">x</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">cos</span>((<span class="ruby-identifier">i</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">radius</span>
    <span class="ruby-identifier">y</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sin</span>((<span class="ruby-identifier">i</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">radius</span>
    <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)

    <span class="ruby-identifier">x</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">cos</span>((<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">90</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">radius</span>
    <span class="ruby-identifier">y</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sin</span>((<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">90</span>)*<span class="ruby-value">3.1418</span><span class="ruby-operator">/</span><span class="ruby-value">180</span>) * <span class="ruby-identifier">radius</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">radius</span>
    <span class="ruby-identifier">draw_antialias_pixel</span>(<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
    <span class="ruby-identifier">i</span>=<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-identifier">step</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">x1</span>=<span class="ruby-identifier">x1</span><span class="ruby-operator">-</span><span class="ruby-value">0.2</span>
  <span class="ruby-identifier">y1</span>=<span class="ruby-identifier">y1</span><span class="ruby-operator">-</span><span class="ruby-value">0.2</span>
  <span class="ruby-identifier">x2</span>=<span class="ruby-identifier">x2</span><span class="ruby-operator">+</span><span class="ruby-value">0.2</span>
  <span class="ruby-identifier">y2</span>=<span class="ruby-identifier">y2</span><span class="ruby-operator">+</span><span class="ruby-value">0.2</span>
  <span class="ruby-identifier">draw_line</span>(<span class="ruby-identifier">x1</span><span class="ruby-operator">+</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">y1</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">draw_line</span>(<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y1</span><span class="ruby-operator">+</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">x2</span>,<span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">draw_line</span>(<span class="ruby-identifier">x2</span><span class="ruby-operator">-</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">y2</span>,<span class="ruby-identifier">x1</span><span class="ruby-operator">+</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">y2</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">draw_line</span>(<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y2</span><span class="ruby-operator">-</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">x1</span>,<span class="ruby-identifier">y1</span><span class="ruby-operator">+</span><span class="ruby-identifier">radius</span>,<span class="ruby-identifier">r</span>,<span class="ruby-identifier">g</span>,<span class="ruby-identifier">b</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- draw_rounded_rectangle-source -->
          
        </div>

        

        
      </div><!-- draw_rounded_rectangle-method -->

    
      <div id="method-i-set_image_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">set_image_map</span><span
            class="method-args">(mode=true,graph_id="MyGraph")</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Activate the image map creation process Internal function</p>
          

          
          <div class="method-source-code" id="set_image_map-source">
            <pre><span class="ruby-comment"># File lib/graph_helper.rb, line 403</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_image_map</span>(<span class="ruby-identifier">mode</span>=<span class="ruby-keyword">true</span>,<span class="ruby-identifier">graph_id</span>=<span class="ruby-string">&quot;MyGraph&quot;</span>)
  <span class="ruby-ivar">@build_map</span> = <span class="ruby-identifier">mode</span>
  <span class="ruby-ivar">@map_id</span>    = <span class="ruby-identifier">graph_id</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- set_image_map-source -->
          
        </div>

        

        
      </div><!-- set_image_map-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

